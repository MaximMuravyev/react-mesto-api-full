{"ast":null,"code":"import _slicedToArray from\"C:/Users/mmuravyev/Desktop/\\u042F.\\u041F/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);function handleChangeName(evt){setName(evt.target.value);}function handleChangeDescription(evt){setDescription(evt.target.value);}useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,props.isOpen]);function handleSubmit(evt){evt.preventDefault();props.onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"popup_profile_edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",form:\"form-name\",btnText:\"C\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:props.isOpen,onClose:props.onClose,onSubmitForm:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_name\",id:\"name\",name:\"name\",type:\"text\",onChange:handleChangeName,value:name||\"\",required:true,minLength:\"2\",maxLength:\"40\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error\",id:\"name-errorr\"}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_job\",id:\"job\",name:\"about\",type:\"text\",onChange:handleChangeDescription,value:description||\"\",required:true,minLength:\"2\",maxLength:\"200\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error info-input-error\",id:\"job-error\"})]});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useContext","useEffect","PopupWithForm","CurrentUserContext","EditProfilePopup","props","name","setName","description","setDescription","currentUser","handleChangeName","evt","target","value","handleChangeDescription","about","isOpen","handleSubmit","preventDefault","onUpdateUser","onClose"],"sources":["C:/Users/mmuravyev/Desktop/Я.П/react-mesto-api-full/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleChangeName(evt) {\n    setName(evt.target.value)\n  }\n\n  function handleChangeDescription(evt) {\n    setDescription(evt.target.value)\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about)\n  }, [currentUser, props.isOpen]);\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    props.onUpdateUser({ name, about: description })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"popup_profile_edit\"\n      title=\"Редактировать профиль\"\n      form=\"form-name\"\n      btnText=\"Cохранить\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmitForm={handleSubmit}>\n      <input\n        className=\"popup__input popup__input_type_name\"\n        id=\"name\"\n        name=\"name\"\n        type=\"text\"\n        onChange={handleChangeName}\n        value={name || \"\"}\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        placeholder=\"Ваше имя\" />\n      <span\n        className=\"popup__input-error name-input-error\"\n        id=\"name-errorr\">\n      </span>\n      <input\n        className=\"popup__input popup__input_type_job\"\n        id=\"job\"\n        name=\"about\"\n        type=\"text\"\n        onChange={handleChangeDescription}\n        value={description || \"\"}\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n        placeholder=\"О себе\" />\n      <span\n        className=\"popup__input-error info-input-error\"\n        id=\"job-error\">\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup"],"mappings":"4JAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,CAAsCC,SAAtC,KAAuD,OAAvD,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,iBAAT,CAA0BC,KAA1B,CAAiC,CAC/B,cAAwBN,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAsCR,QAAQ,CAAC,EAAD,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eACA,GAAMC,YAAW,CAAGV,UAAU,CAACG,kBAAD,CAA9B,CAEA,QAASQ,iBAAT,CAA0BC,GAA1B,CAA+B,CAC7BL,OAAO,CAACK,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,wBAAT,CAAiCH,GAAjC,CAAsC,CACpCH,cAAc,CAACG,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACD,CAEDb,SAAS,CAAC,UAAM,CACdM,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACM,KAAb,CAAd,CACD,CAHQ,CAGN,CAACN,WAAD,CAAcL,KAAK,CAACY,MAApB,CAHM,CAAT,CAKA,QAASC,aAAT,CAAsBN,GAAtB,CAA2B,CACzBA,GAAG,CAACO,cAAJ,GACAd,KAAK,CAACe,YAAN,CAAmB,CAAEd,IAAI,CAAJA,IAAF,CAAQU,KAAK,CAAER,WAAf,CAAnB,EACD,CAED,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,oBADP,CAEE,KAAK,CAAC,2HAFR,CAGE,IAAI,CAAC,WAHP,CAIE,OAAO,CAAC,mDAJV,CAKE,MAAM,CAAEH,KAAK,CAACY,MALhB,CAME,OAAO,CAAEZ,KAAK,CAACgB,OANjB,CAOE,YAAY,CAAEH,YAPhB,wBAQE,cACE,SAAS,CAAC,qCADZ,CAEE,EAAE,CAAC,MAFL,CAGE,IAAI,CAAC,MAHP,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAEP,gBALZ,CAME,KAAK,CAAEL,IAAI,EAAI,EANjB,CAOE,QAAQ,KAPV,CAQE,SAAS,CAAC,GARZ,CASE,SAAS,CAAC,IATZ,CAUE,WAAW,CAAC,6CAVd,EARF,cAmBE,aACE,SAAS,CAAC,qCADZ,CAEE,EAAE,CAAC,aAFL,EAnBF,cAuBE,cACE,SAAS,CAAC,oCADZ,CAEE,EAAE,CAAC,KAFL,CAGE,IAAI,CAAC,OAHP,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAES,uBALZ,CAME,KAAK,CAAEP,WAAW,EAAI,EANxB,CAOE,QAAQ,KAPV,CAQE,SAAS,CAAC,GARZ,CASE,SAAS,CAAC,KATZ,CAUE,WAAW,CAAC,iCAVd,EAvBF,cAkCE,aACE,SAAS,CAAC,qCADZ,CAEE,EAAE,CAAC,WAFL,EAlCF,GADF,CAyCD,CAED,cAAeJ,iBAAf"},"metadata":{},"sourceType":"module"}