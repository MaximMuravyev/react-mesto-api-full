{"ast":null,"code":"import _toConsumableArray from\"C:/Users/mmuravyev/Desktop/\\u042F.\\u041F/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/mmuravyev/Desktop/\\u042F.\\u041F/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{CurrentUserContext}from'../contexts/CurrentUserContext';import EditProfilePopup from\"./EditProfilePopup\";import EditAvatarPopup from\"./EditAvatarPopup\";import AddPlacePopup from\"./AddPlacePopup\";import ImagePopup from\"./ImagePopup\";import Header from'./Header';import Main from'./Main';import Footer from'./Footer';import{api}from'../utils/Api.js';import{Routes,Route,useNavigate,Navigate}from\"react-router-dom\";import{Link}from\"react-router-dom\";import Login from\"./Login.js\";import Register from\"./Register.js\";import InfoTooltip from\"./InfoTooltip\";import ProtectedRoute from\"./ProtectedRoute\";import*as auth from\"../utils/auth\";import imageError from\"../images/reject.png\";import imageSuccess from\"../images/success.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cards=_useState2[0],setCards=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isEditProfilePopupOpen=_useState4[0],setIsEditProfilePopupOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isAddPlacePopupOpen=_useState6[0],setIsAddPlacePopupOpen=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isEditAvatarPopupOpen=_useState8[0],setIsEditAvatarPopupOpen=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),selectedCard=_useState10[0],setSelectedCard=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isCardOpen=_useState12[0],setIsCardOpen=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),currentUser=_useState14[0],setCurrentUser=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loggedIn=_useState16[0],setLoggedIn=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isSuccess=_useState18[0],setSuccess=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),infoTooltipOpen=_useState20[0],setInfoTooltipOpen=_useState20[1];var _useState21=useState(imageSuccess),_useState22=_slicedToArray(_useState21,2),infoTooltipImage=_useState22[0],setInfoTooltipImage=_useState22[1];var _useState23=useState(\"\"),_useState24=_slicedToArray(_useState23,2),message=_useState24[0],setMessage=_useState24[1];var _useState25=useState({userName:\"\",email:\"\"}),_useState26=_slicedToArray(_useState25,2),userData=_useState26[0],setUserData=_useState26[1];var navigate=useNavigate();var handleTokenCheck=function handleTokenCheck(){var jwt=localStorage.getItem(\"token\");if(jwt){auth.checkToken(jwt).then(function(data){if(data.data.email){setUserData({userData:data.data._id,email:data.data.email});setLoggedIn(true);navigate(\"/\");}}).catch(function(error){return console.log(error);});}};useEffect(function(){handleTokenCheck();},[]);useEffect(function(){if(loggedIn===true){api.getDataUser().then(function(profile){setCurrentUser(profile);}).catch(function(error){return console.log(error);});}},[loggedIn]);useEffect(function(){if(loggedIn===true){api.getDataInitialCards().then(function(cards){setCards(cards);}).catch(function(error){return console.log(error);});}},[loggedIn]);function handleCardLike(card){var isLiked=card.likes.some(function(i){return i._id===currentUser._id;});api.toggleLike(card._id,isLiked).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(error){return console.log(error);});}function handleCardDelete(card){api.deleteCard(card._id).then(function(){setCards(function(state){return state.filter(function(c){return c._id===card._id?'':c;});});}).catch(function(error){return console.log(error);});}function handleEditProfileClick(){setIsEditProfilePopupOpen(true);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(true);}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(true);}function handleCardClick(card){setSelectedCard(card);setIsCardOpen(true);}function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setInfoTooltipOpen(false);setIsCardOpen(false);}function updateUser(data){api.changeUser(data).then(function(data){setCurrentUser(data);closeAllPopups();}).catch(function(error){return console.log(error);});}function handleAddPlaceSubmit(data){api.addCard(data).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(error){return console.log(error);});}function handleUpdateAvatar(data){api.changeAvatar(data).then(function(profile){setCurrentUser(profile);closeAllPopups();}).catch(function(error){return console.log(error);});}function closeInfotoolTip(){closeAllPopups();navigate(\"/sign-up\");}var handleRegister=function handleRegister(email,password){auth.register(email,password).then(function(data){if(data.token){localStorage.setItem(\"token\",data.token);setUserData({userName:data.data._id,email:data.email});}}).then(function(){setSuccess(true);setInfoTooltipImage(imageSuccess);setMessage(\"Вы успешно зарегистрировались!\");setInfoTooltipOpen(true);navigate(\"/sign-in\");}).catch(function(error){setInfoTooltipImage(imageError);setMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");setInfoTooltipOpen(true);console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(error));});};var handleLogin=function handleLogin(email,password){auth.login(email,password).then(function(data){if(data.token){setLoggedIn(true);localStorage.setItem(\"token\",data.token);setUserData({userName:data._id,email:data.email});setLoggedIn(true);navigate(\"/\");handleTokenCheck();}}).catch(function(error){setSuccess(true);setInfoTooltipOpen(true);setInfoTooltipImage(imageError);setMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");console.log(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430 \".concat(error));});};function handleSignOut(){localStorage.removeItem(\"token\");setUserData({userName:\"\",email:\"\"});setLoggedIn(false);navigate(\"/sign-in\");}return/*#__PURE__*/_jsx(CurrentUserContext.Provider,{value:currentUser,children:/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page__content\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"header__email\",children:userData.email}),/*#__PURE__*/_jsx(\"button\",{className:\"header__exit\",onClick:handleSignOut,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})]})}),/*#__PURE__*/_jsx(ProtectedRoute,{path:\"/\",component:Main,cards:cards,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,onCardClick:handleCardClick,onCardLike:handleCardLike,onCardDelete:handleCardDelete,loggedIn:loggedIn}),/*#__PURE__*/_jsx(Footer,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",element:/*#__PURE__*/_jsxs(\"div\",{className:\"page\",children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(Link,{to:\"/sign-up\",className:\"header__go-to\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"})}),/*#__PURE__*/_jsx(Login,{title:\"\\u0412\\u0445\\u043E\\u0434\",buttonName:\"\\u0412\\u043E\\u0439\\u0442\\u0438\",handleLogin:handleLogin})]})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",element:/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"page__content\",children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",className:\"header__go-to\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})}),/*#__PURE__*/_jsx(Register,{title:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\",buttonName:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\",handleRegister:handleRegister,children:/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",style:{textDecoration:'none',color:'white'},className:\"popup__button_go-to\",children:\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\"})})]})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/sign-in\"})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:loggedIn?/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/sign-in\",replace:true})})]}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:infoTooltipOpen,onClose:isSuccess?closeAllPopups:closeInfotoolTip,isSuccess:isSuccess,image:infoTooltipImage,message:message}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddCard:handleAddPlaceSubmit}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar}),/*#__PURE__*/_jsx(EditProfilePopup,{onUpdateUser:updateUser,isOpen:isEditProfilePopupOpen,onClose:closeAllPopups}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,isOpen:isCardOpen,onClose:closeAllPopups})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","CurrentUserContext","EditProfilePopup","EditAvatarPopup","AddPlacePopup","ImagePopup","Header","Main","Footer","api","Routes","Route","useNavigate","Navigate","Link","Login","Register","InfoTooltip","ProtectedRoute","auth","imageError","imageSuccess","App","cards","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","isCardOpen","setIsCardOpen","currentUser","setCurrentUser","loggedIn","setLoggedIn","isSuccess","setSuccess","infoTooltipOpen","setInfoTooltipOpen","infoTooltipImage","setInfoTooltipImage","message","setMessage","userName","email","userData","setUserData","navigate","handleTokenCheck","jwt","localStorage","getItem","checkToken","then","data","_id","catch","error","console","log","getDataUser","profile","getDataInitialCards","handleCardLike","card","isLiked","likes","some","i","toggleLike","newCard","state","map","c","handleCardDelete","deleteCard","filter","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","closeAllPopups","updateUser","changeUser","handleAddPlaceSubmit","addCard","handleUpdateAvatar","changeAvatar","closeInfotoolTip","handleRegister","password","register","token","setItem","handleLogin","login","handleSignOut","removeItem","textDecoration","color"],"sources":["C:/Users/mmuravyev/Desktop/Я.П/react-mesto-api-full/frontend/src/components/App.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport ImagePopup from \"./ImagePopup\";\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport {api} from '../utils/Api.js';\nimport {Routes, Route, useNavigate, Navigate} from \"react-router-dom\";\nimport {Link} from \"react-router-dom\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from \"../utils/auth\";\nimport imageError from \"../images/reject.png\";\nimport imageSuccess from \"../images/success.png\";\n\nfunction App() {\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [isCardOpen, setIsCardOpen] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isSuccess, setSuccess] = useState(false);\n  const [infoTooltipOpen, setInfoTooltipOpen] = useState(false);\n  const [infoTooltipImage, setInfoTooltipImage] = useState(imageSuccess);\n  const [message, setMessage] = useState(\"\");\n  const [userData, setUserData] = useState({\n    userName: \"\",\n    email: \"\",\n  })\n\n  const navigate = useNavigate();\n\n  const handleTokenCheck = () => {\n    const jwt = localStorage.getItem(\"token\");\n    if (jwt){\n      auth.checkToken(jwt).then((data) => { \n        if (data.data.email) {\n          setUserData({\n            userData: data.data._id,\n            email: data.data.email,\n          });\n          setLoggedIn(true);\n          navigate(\"/\");\n        }\n      }).catch((error) => console.log(error));\n    }\n  }\n\n  useEffect(() => {\n    handleTokenCheck();\n  }, []);\n\n  useEffect(() => {\n    if (loggedIn === true) {\n      api.getDataUser()\n        .then((profile) => {\n          setCurrentUser(profile);\n        })\n        .catch((error) => console.log(error));\n    }\n  }, [loggedIn])\n\n\n  useEffect(() => {\n    if (loggedIn === true) {\n      api.getDataInitialCards()\n        .then((cards) => {\n          setCards(cards);\n        })\n        .catch((error) => console.log(error));\n    }\n  }, [loggedIn])\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.toggleLike(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\n      })\n      .catch(error => console.log(error))\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id === card._id ? '' : c));\n      })\n      .catch(error => console.log(error))\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true)\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true)\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsCardOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setInfoTooltipOpen(false);\n    setIsCardOpen(false);\n  }\n\n  function updateUser(data) {\n    api.changeUser(data)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(error => console.log(error))\n  }\n\n  function handleAddPlaceSubmit(data) {\n    api\n      .addCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => console.log(error))\n  }\n\n  function handleUpdateAvatar(data) {\n    api.changeAvatar(data)\n      .then(profile => {\n        setCurrentUser(profile); \n        closeAllPopups()\n      })\n      .catch(error => console.log(error))\n  }\n\n  function closeInfotoolTip() {\n    closeAllPopups();\n    navigate(\"/sign-up\")\n  }\n\n  const handleRegister = (email, password) => {\n    auth.register(email, password)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem(\"token\", data.token);\n          setUserData({\n            userName: data.data._id,\n            email: data.email,\n          });\n        }\n      })\n      .then(() => {\n        setSuccess(true)\n        setInfoTooltipImage(imageSuccess);\n        setMessage(\"Вы успешно зарегистрировались!\");\n        setInfoTooltipOpen(true);\n        navigate(\"/sign-in\");\n      })\n      .catch((error) => {\n        setInfoTooltipImage(imageError);\n        setMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        setInfoTooltipOpen(true);\n        console.log(`Ошибка ${error}`);\n      })\n  }\n\n  const handleLogin = (email, password) => {\n    auth.login(email, password)\n      .then((data) => {\n        if (data.token) {\n          setLoggedIn(true);\n          localStorage.setItem(\"token\", data.token);\n          setUserData({\n            userName: data._id,\n            email: data.email,\n          });\n          setLoggedIn(true);\n          navigate(\"/\");\n          handleTokenCheck();\n        }\n      })\n      .catch((error) => {\n        setSuccess(true)\n        setInfoTooltipOpen(true);\n        setInfoTooltipImage(imageError);\n        setMessage(\"Что-то пошло не так! Попробуйте ещё раз.\");\n        console.log(`Ошибка ${error}`);\n      });\n  }\n\n  function handleSignOut(){\n    localStorage.removeItem(\"token\");\n    setUserData({\n      userName: \"\",\n      email: \"\",\n    });\n    setLoggedIn(false);\n    navigate(\"/sign-in\");\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n      <div className=\"page__content\">\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n          <>\n          <Header>\n          <div>\n            <span className=\"header__email\">{userData.email}</span>\n            <button className=\"header__exit\" onClick={handleSignOut}>Выйти</button>\n          </div>\n          </Header>\n          <ProtectedRoute\n            path=\"/\"\n            component={Main}\n            cards={cards}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n            loggedIn={loggedIn}>\n          </ProtectedRoute>\n          <Footer/>\n          </>\n          }\n        />\n\n        <Route\n          path=\"/sign-in\"\n          element={\n          <div className=\"page\">\n            <Header>\n              <Link to={\"/sign-up\"} className=\"header__go-to\">Регистрация</Link>\n            </Header>\n            <Login\n              title=\"Вход\"\n              buttonName=\"Войти\"\n              handleLogin={handleLogin}/>\n          </div>\n          }\n        />\n\n        <Route\n          path=\"/sign-up\"\n          element={\n          <div className=\"page\">\n          <div className=\"page__content\">\n            <Header>\n              <Link to={\"/sign-in\"} className=\"header__go-to\">Войти</Link>\n            </Header>\n            <Register\n              title=\"Регистрация\"\n              buttonName=\"Зарегистрироваться\"\n              handleRegister={handleRegister}>\n            <Link to={\"/sign-in\"} style={{ textDecoration: 'none', color: 'white' }} className=\"popup__button_go-to\">Уже зарегистрированы? Войти</Link>\n            </Register>\n          </div>\n          </div>\n          }\n        />\n\n        <Route \n          path=\"*\" \n          element={\n          <Navigate to=\"/sign-in\"/>}\n        />\n\n        <Route\n          path=\"/\"\n          element={\n          loggedIn ? (<Navigate to=\"/\" replace />) : (<Navigate to=\"/sign-in\" replace />)\n          }\n        />\n\n      </Routes>\n\n      <InfoTooltip\n        isOpen={infoTooltipOpen}\n        onClose={isSuccess ? closeAllPopups : closeInfotoolTip}\n        isSuccess={isSuccess}\n        image={infoTooltipImage}\n        message={message}/>\n      <AddPlacePopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddCard={handleAddPlaceSubmit}/>\n      <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}/>\n      <EditProfilePopup\n        onUpdateUser={updateUser}\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}/>\n      <ImagePopup\n        card={selectedCard}\n        isOpen={isCardOpen}\n        onClose={closeAllPopups}/>\n      </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}