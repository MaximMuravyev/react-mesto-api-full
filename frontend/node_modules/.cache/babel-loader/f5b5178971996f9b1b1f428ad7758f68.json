{"ast":null,"code":"import _classCallCheck from\"C:/Users/mmuravyev/Desktop/\\u042F.\\u041F/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/mmuravyev/Desktop/\\u042F.\\u041F/react-mesto-api-full/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(config){_classCallCheck(this,Api);this._errorHandler=function(res){if(res.ok){return res.json();}return Promise.reject(\"Произошла ошибка\");};this._url=config.url;this._headers=config.headers;this._authorization=config.authorization;}_createClass(Api,[{key:\"getDataUser\",value:function getDataUser(){return fetch(\"\".concat(this._url,\"users/me\"),{method:\"GET\",headers:this._headers}).then(this._errorHandler);}},{key:\"getDataInitialCards\",value:function getDataInitialCards(){return fetch(\"\".concat(this._url,\"cards\"),{method:\"GET\",headers:this._headers}).then(this._errorHandler);}},{key:\"getData\",value:function getData(){return Promise.all([this.getInitialCards(),this.getInitialUser()]);}},{key:\"addCard\",value:function addCard(data){return fetch(\"\".concat(this._url,\"cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify(data)}).then(this._errorHandler);}},{key:\"deleteCard\",value:function deleteCard(id){return fetch(\"\".concat(this._url,\"cards/\").concat(id),{method:\"DELETE\",headers:this._headers}).then(this._errorHandler);}},{key:\"toggleLike\",value:function toggleLike(id,status){return fetch(\"\".concat(this._url,\"cards/\").concat(id,\"/likes\"),{method:status?\"DELETE\":\"PUT\",headers:this._headers}).then(this._errorHandler);}},{key:\"changeAvatar\",value:function changeAvatar(data){return fetch(\"\".concat(this._url,\"users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify(data)}).then(this._errorHandler);}},{key:\"changeUser\",value:function changeUser(data){return fetch(\"\".concat(this._url,\"users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify(data)}).then(this._errorHandler);}}]);return Api;}();export var api=new Api({url:\"https://nomoreparties.co/v1/cohort-41/\",headers:{authorization:\"6215e113-b3a7-4765-975a-b13e8216e343\",\"Content-Type\":\"application/json\"}});","map":{"version":3,"names":["Api","config","_errorHandler","res","ok","json","Promise","reject","_url","url","_headers","headers","_authorization","authorization","fetch","method","then","all","getInitialCards","getInitialUser","data","body","JSON","stringify","id","status","api"],"sources":["C:/Users/mmuravyev/Desktop/Я.П/react-mesto-api-full/frontend/src/utils/Api.js"],"sourcesContent":["class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n    this._authorization = config.authorization;\n  }\n\n  getDataUser() {\n    return fetch(`${this._url}users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._errorHandler);\n  }\n\n  getDataInitialCards() {\n    return fetch(`${this._url}cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._errorHandler);\n  }\n\n  getData() { \n    return Promise.all([this.getInitialCards(), this.getInitialUser()]) \n  } \n\n  addCard(data) {\n    return fetch(`${this._url}cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._errorHandler);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._errorHandler);\n  }\n\n  toggleLike(id, status) {\n    return fetch(`${this._url}cards/${id}/likes`, {\n      method: status ? \"DELETE\" : \"PUT\",\n      headers: this._headers,\n    }).then(this._errorHandler);\n  }\n\n  changeAvatar(data) {\n    return fetch(`${this._url}users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._errorHandler);\n  }\n\n  _errorHandler = (res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(\"Произошла ошибка\");\n  };\n\n  changeUser(data) {\n    return fetch(`${this._url}users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data),\n    }).then(this._errorHandler);\n  }\n}\n\nexport const api = new Api({\n  url: \"https://nomoreparties.co/v1/cohort-41/\",\n  headers: {\n    authorization: \"6215e113-b3a7-4765-975a-b13e8216e343\",\n    \"Content-Type\": \"application/json\"\n  },\n})"],"mappings":"yTAAMA,I,yBACJ,aAAYC,MAAZ,CAAoB,gCAsDpBC,aAtDoB,CAsDJ,SAACC,GAAD,CAAS,CACvB,GAAIA,GAAG,CAACC,EAAR,CAAY,CACV,MAAOD,IAAG,CAACE,IAAJ,EAAP,CACD,CACD,MAAOC,QAAO,CAACC,MAAR,CAAe,kBAAf,CAAP,CACD,CA3DmB,CAClB,KAAKC,IAAL,CAAYP,MAAM,CAACQ,GAAnB,CACA,KAAKC,QAAL,CAAgBT,MAAM,CAACU,OAAvB,CACA,KAAKC,cAAL,CAAsBX,MAAM,CAACY,aAA7B,CACD,C,2CAED,sBAAc,CACZ,MAAOC,MAAK,WAAI,KAAKN,IAAT,aAAyB,CACnCO,MAAM,CAAE,KAD2B,CAEnCJ,OAAO,CAAE,KAAKD,QAFqB,CAAzB,CAAL,CAGJM,IAHI,CAGC,KAAKd,aAHN,CAAP,CAID,C,mCAED,8BAAsB,CACpB,MAAOY,MAAK,WAAI,KAAKN,IAAT,UAAsB,CAChCO,MAAM,CAAE,KADwB,CAEhCJ,OAAO,CAAE,KAAKD,QAFkB,CAAtB,CAAL,CAGJM,IAHI,CAGC,KAAKd,aAHN,CAAP,CAID,C,uBAED,kBAAU,CACR,MAAOI,QAAO,CAACW,GAAR,CAAY,CAAC,KAAKC,eAAL,EAAD,CAAyB,KAAKC,cAAL,EAAzB,CAAZ,CAAP,CACD,C,uBAED,iBAAQC,IAAR,CAAc,CACZ,MAAON,MAAK,WAAI,KAAKN,IAAT,UAAsB,CAChCO,MAAM,CAAE,MADwB,CAEhCJ,OAAO,CAAE,KAAKD,QAFkB,CAGhCW,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAH0B,CAAtB,CAAL,CAIJJ,IAJI,CAIC,KAAKd,aAJN,CAAP,CAKD,C,0BAED,oBAAWsB,EAAX,CAAe,CACb,MAAOV,MAAK,WAAI,KAAKN,IAAT,kBAAsBgB,EAAtB,EAA4B,CACtCT,MAAM,CAAE,QAD8B,CAEtCJ,OAAO,CAAE,KAAKD,QAFwB,CAA5B,CAAL,CAGJM,IAHI,CAGC,KAAKd,aAHN,CAAP,CAID,C,0BAED,oBAAWsB,EAAX,CAAeC,MAAf,CAAuB,CACrB,MAAOX,MAAK,WAAI,KAAKN,IAAT,kBAAsBgB,EAAtB,WAAkC,CAC5CT,MAAM,CAAEU,MAAM,CAAG,QAAH,CAAc,KADgB,CAE5Cd,OAAO,CAAE,KAAKD,QAF8B,CAAlC,CAAL,CAGJM,IAHI,CAGC,KAAKd,aAHN,CAAP,CAID,C,4BAED,sBAAakB,IAAb,CAAmB,CACjB,MAAON,MAAK,WAAI,KAAKN,IAAT,oBAAgC,CAC1CO,MAAM,CAAE,OADkC,CAE1CJ,OAAO,CAAE,KAAKD,QAF4B,CAG1CW,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAHoC,CAAhC,CAAL,CAIJJ,IAJI,CAIC,KAAKd,aAJN,CAAP,CAKD,C,0BASD,oBAAWkB,IAAX,CAAiB,CACf,MAAON,MAAK,WAAI,KAAKN,IAAT,aAAyB,CACnCO,MAAM,CAAE,OAD2B,CAEnCJ,OAAO,CAAE,KAAKD,QAFqB,CAGnCW,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAH6B,CAAzB,CAAL,CAIJJ,IAJI,CAIC,KAAKd,aAJN,CAAP,CAKD,C,mBAGH,MAAO,IAAMwB,IAAG,CAAG,GAAI1B,IAAJ,CAAQ,CACzBS,GAAG,CAAE,wCADoB,CAEzBE,OAAO,CAAE,CACPE,aAAa,CAAE,sCADR,CAEP,eAAgB,kBAFT,CAFgB,CAAR,CAAZ"},"metadata":{},"sourceType":"module"}